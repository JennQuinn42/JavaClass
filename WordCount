/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package CAG.exams.AssignD;

import java.awt.Color;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.text.BadLocationException;
import javax.swing.text.DefaultHighlighter;
import javax.swing.text.Highlighter;
import javax.swing.text.Highlighter.HighlightPainter;

/**
 *
 * @author Rob James
 */
public class WordCountPanel extends javax.swing.JPanel {
    private String text;
    /**
     * Creates new form WordCountPanel
     */
    public WordCountPanel() {
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jLabel1 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        txtParagraph = new javax.swing.JTextArea();
        jLabel2 = new javax.swing.JLabel();
        txtFind = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        txtStatus = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        txtNumWord = new javax.swing.JTextField();
        txtNumSpaces = new javax.swing.JTextField();
        txtChar = new javax.swing.JTextField();
        txtPara = new javax.swing.JTextField();
        btnFind = new javax.swing.JButton();
        btnClear = new javax.swing.JButton();
        btnCount = new javax.swing.JButton();

        setBackground(java.awt.Color.lightGray);

        jLabel1.setBackground(java.awt.Color.lightGray);
        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel1.setText("Enter text");

        txtParagraph.setColumns(20);
        txtParagraph.setLineWrap(true);
        txtParagraph.setRows(5);
        txtParagraph.setAutoscrolls(false);
        txtParagraph.setName("txtText"); // NOI18N
        jScrollPane1.setViewportView(txtParagraph);

        jLabel2.setBackground(java.awt.Color.lightGray);
        jLabel2.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel2.setText("Enter word");

        txtFind.setName("txtWord"); // NOI18N
        txtFind.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtFindActionPerformed(evt);
            }
        });

        jLabel3.setBackground(java.awt.Color.lightGray);
        jLabel3.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel3.setText("Count of words and characters");

        jLabel4.setBackground(java.awt.Color.lightGray);
        jLabel4.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel4.setText("Status");

        txtStatus.setBackground(java.awt.Color.lightGray);
        txtStatus.setEnabled(false);
        txtStatus.setName("txtStatus"); // NOI18N
        txtStatus.setSelectionColor(java.awt.Color.black);

        jLabel5.setBackground(java.awt.Color.lightGray);
        jLabel5.setText("Number of Words");

        jLabel6.setBackground(java.awt.Color.lightGray);
        jLabel6.setText("Number of characters including spaces");

        jLabel7.setBackground(java.awt.Color.lightGray);
        jLabel7.setText("Number of characters without spaces");

        jLabel8.setBackground(java.awt.Color.lightGray);
        jLabel8.setText("Number of paragraphs");

        txtNumWord.setBackground(java.awt.Color.lightGray);
        txtNumWord.setEnabled(false);
        txtNumWord.setName("txtNumWords"); // NOI18N
        txtNumWord.setSelectionColor(java.awt.Color.black);

        txtNumSpaces.setBackground(java.awt.Color.lightGray);
        txtNumSpaces.setEnabled(false);
        txtNumSpaces.setName("txtNumSpaces"); // NOI18N
        txtNumSpaces.setSelectionColor(java.awt.Color.black);

        txtChar.setBackground(java.awt.Color.lightGray);
        txtChar.setEnabled(false);
        txtChar.setName("txtChar"); // NOI18N
        txtChar.setSelectionColor(java.awt.Color.black);

        txtPara.setBackground(java.awt.Color.lightGray);
        txtPara.setEnabled(false);
        txtPara.setName("txtParagraphs"); // NOI18N
        txtPara.setSelectionColor(java.awt.Color.black);

        btnFind.setBackground(java.awt.Color.lightGray);
        btnFind.setText("Find Word");
        btnFind.setName("btnFind"); // NOI18N
        btnFind.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnFindActionPerformed(evt);
            }
        });

        btnClear.setBackground(java.awt.Color.lightGray);
        btnClear.setText("Clear");
        btnClear.setMaximumSize(new java.awt.Dimension(81, 23));
        btnClear.setMinimumSize(new java.awt.Dimension(81, 23));
        btnClear.setName("btnClear"); // NOI18N
        btnClear.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnClearActionPerformed(evt);
            }
        });

        btnCount.setBackground(java.awt.Color.lightGray);
        btnCount.setText("Word Count");
        btnCount.setName("btnWordCount"); // NOI18N
        btnCount.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCountActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(64, 64, 64)
                        .addComponent(jLabel1))
                    .addGroup(layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jLabel6))
                    .addGroup(layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel7)
                            .addComponent(jLabel8)))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(20, 20, 20)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel3)
                            .addGroup(layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(txtNumWord, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 268, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(txtNumSpaces, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(txtChar, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(txtPara, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(layout.createSequentialGroup()
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(txtStatus)
                                            .addComponent(txtFind)
                                            .addGroup(layout.createSequentialGroup()
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                    .addComponent(jLabel4)
                                                    .addComponent(jLabel2)
                                                    .addGroup(layout.createSequentialGroup()
                                                        .addComponent(btnFind)
                                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                        .addComponent(btnClear, javax.swing.GroupLayout.PREFERRED_SIZE, 76, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                                .addGap(0, 16, Short.MAX_VALUE))))
                                    .addGroup(layout.createSequentialGroup()
                                        .addGap(55, 55, 55)
                                        .addComponent(btnCount)
                                        .addGap(0, 0, Short.MAX_VALUE))))))
                    .addGroup(layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jLabel5)))
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel1)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 168, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jLabel3)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel5)
                            .addComponent(txtNumWord, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel6)
                            .addComponent(txtNumSpaces, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel7)
                            .addComponent(txtChar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel8)
                            .addComponent(txtPara, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addContainerGap())
                    .addGroup(layout.createSequentialGroup()
                        .addGap(7, 7, 7)
                        .addComponent(jLabel2)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtFind, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel4)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtStatus, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(btnFind)
                            .addComponent(btnClear, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(btnCount)
                        .addGap(77, 77, 77))))
        );
    }// </editor-fold>                        

    private void txtFindActionPerformed(java.awt.event.ActionEvent evt) {                                        
        // TODO add your handling code here:
    }                                       

    private void btnCountActionPerformed(java.awt.event.ActionEvent evt) {                                         
        // TODO add your handling code here:
        text = txtParagraph.getText();
        //get the number of characters including spaces
        int characters = text.length();
        //used to count the number of \n
        int paragraphs = 0;
        //count characters that aren't spaces
        int noSpaces = 0;
        //cound spaces
        int spaces = 0;
        
        for(int i = 0; i < characters; ++i){
            if(text.charAt(i) == '\n'){
                paragraphs++;
                spaces++;
            }
            else if(text.charAt(i) != ' '){
                noSpaces++;
            }
            else if(text.charAt(i) == ' '){
                spaces++;
            }
        }
        //determine the last character isn't a carriage return
        if(text.charAt((characters - 1)) != '\n')
            spaces ++;
        
        txtNumWord.setText("" + spaces);
        txtChar.setText("" + noSpaces);
        txtNumSpaces.setText("" + (characters - 1));
        txtPara.setText("" + paragraphs);
    }                                        

    private void btnClearActionPerformed(java.awt.event.ActionEvent evt) {                                         
        //clear all text fields
        txtChar.setText("");
        txtFind.setText("");
        txtNumSpaces.setText("");
        txtNumWord.setText("");
        txtPara.setText("");
        txtParagraph.setText("");
        txtStatus.setText("");
    }                                        

    private void btnFindActionPerformed(java.awt.event.ActionEvent evt) {                                        
        //get the word to look for and text to look in
        String word = txtFind.getText();
        text = txtParagraph.getText();
        //where the word may be found
        int location = -1;
        //the end index of the word in the text
        int length = -1;
        //used to highlight the text
        Highlighter highlight = txtParagraph.getHighlighter();
        HighlightPainter paint = new DefaultHighlighter.DefaultHighlightPainter(Color.BLUE);
        int wordLength = word.length();
        
        
        if(!text.equals("")){ 
            highlight.removeAllHighlights();
            location = text.indexOf(word, 0);
            if(location != -1){
                length = location + wordLength;
                txtStatus.setText("Word found at: " + location);
                try {
                    highlight.addHighlight(location, length, paint);
                } catch (BadLocationException ex) {
                    Logger.getLogger(WordCountPanel.class.getName()).log(Level.SEVERE, null, ex);
                }
            }//end word found
            else{
                txtStatus.setForeground(Color.RED);
                txtStatus.setText("Word not found");
            }
        }
    }                                       


    // Variables declaration - do not modify                     
    private javax.swing.JButton btnClear;
    private javax.swing.JButton btnCount;
    private javax.swing.JButton btnFind;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTextField txtChar;
    private javax.swing.JTextField txtFind;
    private javax.swing.JTextField txtNumSpaces;
    private javax.swing.JTextField txtNumWord;
    private javax.swing.JTextField txtPara;
    private javax.swing.JTextArea txtParagraph;
    private javax.swing.JTextField txtStatus;
    // End of variables declaration                   
}



/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package CAG.exams.AssignD;

import javax.swing.JApplet;
import java.awt.Graphics;
/**
 *
 * @author Rob James
 */
public class WordCountApp extends JApplet {

     @Override
         public void paint(Graphics g) {
             g.drawString("Hello applet!", 50, 25);
             this.setContentPane(new WordCountPanel());
             this.setSize(700, 400);
         }
}
